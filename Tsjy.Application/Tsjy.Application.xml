<?xml version="1.0"?>
<doc>
    <assembly>
        <name>Tsjy.Application</name>
    </assembly>
    <members>
        <member name="P:Tsjy.Application.System.Dtos.AI.AiAssistResultDto.RecommendedScore">
            <summary>按 MaxScore * Ratio 计算出来的建议分（如果你 Ratio 是 0~1）</summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.AI.AiAssistResultDto.Confidence">
            <summary>0~1</summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.AI.AiAssistResultDto.Explanation">
            <summary>给页面显示的解释（Markdown/纯文本都行）</summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.AI.AiAssistResultDto.RawJson">
            <summary>模型原始 JSON（方便你排错）</summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.BatchDtos.BatchDistributeDto">
            <summary>
            任务分发提交对象
            </summary>
            <summary>
            任务分发提交对象
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.BatchDtos.BatchDistributeDto.BatchId">
            <summary>
            批次ID
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.BatchDtos.BatchDistributeDto.SelectedOrgIds">
            <summary>
            步骤1：选中的机构ID集合 (受评单位)
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.BatchDtos.BatchDistributeDto.InspectionGroupUserIds">
            <summary>
            步骤2：视导组成员ID集合
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.BatchDtos.BatchDistributeDto.ReviewExpertIds">
            <summary>
            步骤3：评审专家ID集合 (新：只选人，后台自动分)
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.BatchDtos.NodeExpertRelationDto">
            <summary>
            节点与专家分配关系
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.CreateNodeDto">
            <summary>
            新建评价指标节点 DTO
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.CreateNodeDto.Category">
            <summary>
            目标体系类型：special_school, inclusive_school, education_bureau
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.CreateNodeDto.Name">
            <summary>
            指标内容
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.CreateNodeDto.MaxScore">
            <summary>
            该指标满分
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.CreateNodeDto.ScoringTemplateId">
            <summary>
            评分模板ID，关联 scoring_models 表
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.EditNodeDto">
            <summary>
            新建评价指标节点 DTO
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.EditNodeDto.Category">
            <summary>
            目标体系类型：special_school, inclusive_school, education_bureau
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.EditNodeDto.Name">
            <summary>
            指标内容
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.EditNodeDto.MaxScore">
            <summary>
            该指标满分
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.EditNodeDto.ScoringModelId">
            <summary>
            评分模板ID，关联 scoring_models 表
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.ReviewDtos.ExpertTaskListDto">
            <summary>
            专家端：任务列表项 DTO
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.ReviewDtos.ReviewSubmissionDto">
            <summary>
            专家提交评审的输入模型
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.ScoringModelDto">
            <summary>
            评分模板表单 DTO (用于新增和编辑)
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.ScoringModelDto.Items">
            <summary>
            评分项列表 (前端表格数据)
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.ScoringModelItemDto">
            <summary>
            评分项明细 DTO
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.SchoolTaskListDto">
            <summary>
            学校端：我的任务列表项
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.TaskNodeTreeDto">
            <summary>
            填报界面：左侧树节点
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.NodeFillDetailDto">
            <summary>
            填报界面：右侧填报详情
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Dtos.UpdateNodeDto">
            <summary>
            更新节点信息 DTO
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.UpdateNodeDto.Id">
            <summary>
            节点主键 ID
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.UpdateNodeDto.Category">
            <summary>
            体系类型 (用于确定操作哪张表)
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.UpdateNodeDto.Code">
            <summary>
            序号 (如 1.1)
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.UpdateNodeDto.Name">
            <summary>
            指标名称
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.UpdateNodeDto.MaxScore">
            <summary>
            标准分
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.UpdateNodeDto.ScoringTemplateId">
            <summary>
            评分模板ID
            </summary>
        </member>
        <member name="P:Tsjy.Application.System.Dtos.UpdateNodeDto.OrderIndex">
            <summary>
            排序
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.IService.IScoringModelService">
            <summary>
            评分模板服务接口
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.IService.IScoringModelService.GetList">
            <summary>
            获取所有模板列表
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.IService.IScoringModelService.GetOptions">
            <summary>
            获取下拉框选项
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.IService.IScoringModelService.GetDetail(System.Int64)">
            <summary>
            获取单个模板详情
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.IService.IScoringModelService.Save(Tsjy.Application.System.Dtos.ScoringModelDto)">
            <summary>
            保存模板
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.IService.IScoringModelService.Delete(System.Int64)">
            <summary>
            删除模板
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Service.AiAssistService">
            <summary>
            评审专家 AI 辅助服务：
            - 读取指标信息（TaskService.GetNodeFillDetail）
            - 读取该指标 PDF 文件（FileService 列目录 + 读本地文件）
            - 上传到 Gemini Files API 并作为 FileData 输入，让模型直接“看 PDF”
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.DepartmentsService.GetOrgSelectListAsync(Tsjy.Core.Enums.OrgType)">
            <summary>
            根据机构类型获取下拉框列表
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.GetNodesAsync(System.String,System.Int64)">
            <summary>
            获取指定体系下的所有节点（扁平列表，前端转树）
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.GetSystemListAsync(System.String)">
            <summary>
            获取指定类型的评价体系列表（查找所有的根节点）
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.CreateTree(System.String,System.String)">
            <summary>
            1. 新建评价体系（建立树根）
            </summary>
            <param name="category">类型：special_school / inclusive_school / education_bureau</param>
            <param name="name">体系名称（如：2025河北特教考评）</param>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.CreateChildNode(Tsjy.Application.System.Dtos.CreateNodeDto)">
            <summary>
            2. 新建子节点（建立枝叶）
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.UpdateNode(Tsjy.Application.System.Dtos.UpdateNodeDto)">
            <summary>
            3. 更新节点基本信息
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.DeactivateTree(System.String,System.Int64)">
            <summary>
            4. 停用（软删除）整个评价体系及其所有子节点
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.DeleteNode(System.String,System.Int64)">
            <summary>
            5. 删除节点（软删除，并级联删除子节点）
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.CreateTreeInternal``1(Furion.DatabaseAccessor.IRepository{``0},System.String)">
            <summary>
            通用的创建树根逻辑
            </summary>
            <typeparam name="T">实体类型，必须同时实现 IEntity 和 IEvalNode</typeparam>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.CreateChildNodeInternal``1(Furion.DatabaseAccessor.IRepository{``0},Tsjy.Application.System.Dtos.CreateNodeDto)">
            <summary>
            通用的创建子节点逻辑
            </summary>
            <typeparam name="T">实体类型，必须同时实现 IEntity 和 IEvalNode</typeparam>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.GetNodeDetailInternal``1(Furion.DatabaseAccessor.IRepository{``0},System.Int64)">
            <summary>
            通用的获取节点详情逻辑
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.UpdateNodeInternal``1(Furion.DatabaseAccessor.IRepository{``0},Tsjy.Application.System.Dtos.UpdateNodeDto)">
            <summary>
            通用的更新节点逻辑
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.DeactivateTreeInternal``1(Furion.DatabaseAccessor.IRepository{``0},System.Int64)">
            <summary>
            通用的递归停用逻辑
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.DeleteNodeInternal``1(Furion.DatabaseAccessor.IRepository{``0},System.Int64)">
            <summary>
            通用的级联软删除逻辑
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.EvalNodeService.ReorganizeRecursively``1(System.Collections.Generic.List{``0},System.Nullable{System.Int64},System.String)">
            <summary>
            递归重排序号
            </summary>
            <param name="allNodes">所有有效节点池</param>
            <param name="parentId">当前父级ID</param>
            <param name="parentCodePrefix">父级Code前缀（如 "1.2"）</param>
            <returns>是否有数据变动</returns>
        </member>
        <member name="T:Tsjy.Application.System.Service.FileService">
             <summary>
             文件服务：
             1) UploadEvidence(IFormFile) —— 保持你原来 API 上传方式可用（如果别处用到）
             2) SaveEvidenceFromBrowserFile(Stream...) —— 供 Blazor Server 组件直接注入调用（不走 HttpClient）
             3) GetEvidenceList/DeleteEvidence —— 目录级列表与删除（按 taskId+nodeId）
            
             注意：当前仍存放在 wwwroot/uploads/evidences 下（与原项目一致）
             </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.FileService.GetEvidenceUrlList(System.Int64,System.Int64)">
            <summary>
            供服务端内部（AI/页面）使用：直接枚举某 taskId+nodeId 目录下的 PDF URL 列表
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.FileService.TryResolvePhysicalPathFromUrl(System.String)">
            <summary>
            供 AI 读取本地文件：把站内 URL（/uploads/...）解析成物理路径（wwwroot/...）
            只允许解析 uploads 目录下的站内路径，避免任意文件读取。
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.InspectionService.GetInspectionEvidence(System.Int64,System.Int64)">
            <summary>
            获取特定任务和节点的巡视组证据材料
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Service.ReviewService">
            <summary>
            专家评审业务服务
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.ReviewService.GetExpertTasks(System.String)">
            <summary>
            获取分配给专家的任务进度列表
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.ReviewService.SubmitReview(Tsjy.Application.System.Dtos.ReviewDtos.ReviewSubmissionDto)">
            <summary>
            提交专家评审结论
            </summary>
        </member>
        <member name="T:Tsjy.Application.System.Service.ScoringModelService">
            <summary>
            评分模板管理服务
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.ScoringModelService.GetList">
            <summary>
            获取所有模板列表 (用于管理页面表格)
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.ScoringModelService.GetOptions">
            <summary>
            获取下拉框选项 (用于新建评价指标时的下拉选择)
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.ScoringModelService.GetDetail(System.Int64)">
            <summary>
            获取单个模板详情 (用于编辑时的回显)
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.ScoringModelService.Save(Tsjy.Application.System.Dtos.ScoringModelDto)">
            <summary>
            保存模板 (新增或修改)
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.ScoringModelService.Delete(System.Int64)">
            <summary>
            删除模板 (软删除)
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.TaskService.IsTaskEditable(System.Int64)">
            <summary>
            检查任务是否处于可编辑状态 (通用检查：状态+时间)
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.TaskService.GetTaskStatus(System.Int64)">
            <summary>
            获取任务当前状态 (供前端判断)
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.TaskService.GetMyTasks(System.String)">
            <summary>
            获取我的任务列表 (包含状态自动流转逻辑)
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.TaskService.SubmitEvidence(Tsjy.Application.System.Dtos.NodeFillDetailDto)">
            <summary>
            提交佐证材料 (核心修复：解决变量重复定义、状态校验、立即保存)
            </summary>
        </member>
        <member name="M:Tsjy.Application.System.Service.TaskService.AreAllReviewsCompleted(System.Int64)">
            <summary>
            检查该任务下的所有评审（所有专家）是否都已完成
            </summary>
            <param name="taskId">任务ID</param>
            <returns>true: 全部完成; false: 还有待评审项</returns>
        </member>
        <member name="M:Tsjy.Application.System.Service.TaskService.CompleteTaskAndSettleScore(System.Int64)">
            <summary>
            结算任务分数并标记为“已完成”
            </summary>
        </member>
    </members>
</doc>
